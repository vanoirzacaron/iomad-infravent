{"version":3,"sources":["variables.js"],"names":["define","$","pluginPage","requestUrl","M","cfg","wwwroot","requestType","requestDataType","whiteColor","todaysActivityBlock","activeUsersBlock","courseProgressBlock","month_1","month_2","month_3","month_4","month_5","month_6","month_7","month_8","month_9","month_10","month_11","month_12","clock12_0","clock12_1","clock12_2","clock12_3","clock12_4","clock12_5","clock12_6","clock12_7","clock12_8","clock12_9","clock12_10","clock12_11","clock12_12","clock12_13","clock12_14","clock12_15","clock12_16","clock12_17","clock12_18","clock12_19","clock12_20","clock12_21","clock12_22","clock12_23","exportUrlLink","cohortFilterBtn","cohortFilterItem","cohortReplaceFlag","filterReplaceFlag","component","getScheduledEmailFormContext","timesdropdown","timestring","value","daysdropdown","string","changeExportUrl","filter","flag","each","oldUrl","this","href","search","replace","getUrlParameter","sParam","sParameterName","i","sURLVariables","decodeURIComponent","window","location","substring","split","length","undefined","generateUrl","url","params","completeUrl","isfirst","idx","param","getUrlParams","paramKey","vars","m","key","getEmailModalHeader","blockname","emailtype","modalHeader"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Plugin administration pages are defined here.\n *\n * @package     local_edwiserreports\n * @copyright   2021 wisdmlabs <support@wisdmlabs.com>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n/* eslint-disable camelcase */\n// eslint-disable-next-line no-unused-vars\ndefine(['jquery'], function($) {\n    return {\n        pluginPage: $(\"#wdm-edwiserreports\"),\n        requestUrl: M.cfg.wwwroot + '/local/edwiserreports/request_handler.php',\n        requestType: 'GET',\n        requestDataType: 'json',\n        whiteColor: \"rgba(255, 255, 255, 0.8)\",\n        todaysActivityBlock: \"#todaysactivityblock #apex-chart-todays-activity\",\n        activeUsersBlock: \"#activeusersblock #apex-chart-active-users\",\n        courseProgressBlock: \"#courseprogressblock #apex-chart-course-progress\",\n        month_1: \"JAN\",\n        month_2: \"FEB\",\n        month_3: \"MAR\",\n        month_4: \"APR\",\n        month_5: \"MAY\",\n        month_6: \"JUN\",\n        month_7: \"JUL\",\n        month_8: \"AUG\",\n        month_9: \"SEP\",\n        month_10: \"OCT\",\n        month_11: \"NOV\",\n        month_12: \"DEC\",\n        clock12_0: \"12:00 AM\",\n        clock12_1: \"01:00 AM\",\n        clock12_2: \"02:00 AM\",\n        clock12_3: \"03:00 AM\",\n        clock12_4: \"04:00 AM\",\n        clock12_5: \"05:00 AM\",\n        clock12_6: \"06:00 AM\",\n        clock12_7: \"07:00 AM\",\n        clock12_8: \"08:00 AM\",\n        clock12_9: \"09:00 AM\",\n        clock12_10: \"10:00 AM\",\n        clock12_11: \"11:00 AM\",\n        clock12_12: \"12:00 PM\",\n        clock12_13: \"01:00 PM\",\n        clock12_14: \"02:00 PM\",\n        clock12_15: \"03:00 PM\",\n        clock12_16: \"04:00 PM\",\n        clock12_17: \"05:00 PM\",\n        clock12_18: \"06:00 PM\",\n        clock12_19: \"07:00 PM\",\n        clock12_20: \"08:00 PM\",\n        clock12_21: \"09:00 PM\",\n        clock12_22: \"10:00 PM\",\n        clock12_23: \"11:00 PM\",\n\n\n        exportUrlLink: \" .dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item\",\n        cohortFilterBtn: \"#cohortfilter\",\n        cohortFilterItem: \"#cohortfilter ~ .dropdown-menu .dropdown-item\",\n\n        // Export Variable\n        cohortReplaceFlag: \"C\",\n        filterReplaceFlag: \"F\",\n\n        // Plugin component\n        component: 'local_edwiserreports',\n\n        // Get scheduled email context\n        getScheduledEmailFormContext: function() {\n            return {\n                timesdropdown: [{\n                        timestring: \"12:00 AM\",\n                        value: 0\n                    },\n                    {\n                        timestring: \"01:00 AM\",\n                        value: 1\n                    },\n                    {\n                        timestring: \"02:00 AM\",\n                        value: 2\n                    },\n                    {\n                        timestring: \"03:00 AM\",\n                        value: 3\n                    },\n                    {\n                        timestring: \"04:00 AM\",\n                        value: 4\n                    },\n                    {\n                        timestring: \"05:00 AM\",\n                        value: 5\n                    },\n                    {\n                        timestring: \"06:00 AM\",\n                        value: 6\n                    },\n                    {\n                        timestring: \"07:00 AM\",\n                        value: 7\n                    },\n                    {\n                        timestring: \"08:00 AM\",\n                        value: 8\n                    },\n                    {\n                        timestring: \"09:00 AM\",\n                        value: 9\n                    },\n                    {\n                        timestring: \"10:00 AM\",\n                        value: 10\n                    },\n                    {\n                        timestring: \"11:00 AM\",\n                        value: 11\n                    },\n                    {\n                        timestring: \"12:00 PM\",\n                        value: 12\n                    },\n                    {\n                        timestring: \"01:00 PM\",\n                        value: 13\n                    },\n                    {\n                        timestring: \"02:00 PM\",\n                        value: 14\n                    },\n                    {\n                        timestring: \"03:00 PM\",\n                        value: 15\n                    },\n                    {\n                        timestring: \"04:00 PM\",\n                        value: 16\n                    },\n                    {\n                        timestring: \"05:00 PM\",\n                        value: 17\n                    },\n                    {\n                        timestring: \"06:00 PM\",\n                        value: 18\n                    },\n                    {\n                        timestring: \"07:00 PM\",\n                        value: 19\n                    },\n                    {\n                        timestring: \"08:00 PM\",\n                        value: 20\n                    },\n                    {\n                        timestring: \"09:00 PM\",\n                        value: 21\n                    },\n                    {\n                        timestring: \"10:00 PM\",\n                        value: 22\n                    },\n                    {\n                        timestring: \"11:00 PM\",\n                        value: 23\n                    },\n                ],\n                daysdropdown: [{\n                        string: 1,\n                        value: 1,\n                    },\n                    {\n                        string: 2,\n                        value: 2,\n                    },\n                    {\n                        string: 3,\n                        value: 3,\n                    },\n                    {\n                        string: 4,\n                        value: 4,\n                    },\n                    {\n                        string: 5,\n                        value: 5,\n                    },\n                    {\n                        string: 6,\n                        value: 6,\n                    },\n                    {\n                        string: 7,\n                        value: 7,\n                    },\n                    {\n                        string: 8,\n                        value: 8,\n                    },\n                    {\n                        string: 9,\n                        value: 9,\n                    },\n                    {\n                        string: 10,\n                        value: 10\n                    },\n                    {\n                        string: 11,\n                        value: 11\n                    },\n                    {\n                        string: 12,\n                        value: 12\n                    },\n                    {\n                        string: 13,\n                        value: 13\n                    },\n                    {\n                        string: 14,\n                        value: 14\n                    },\n                    {\n                        string: 15,\n                        value: 15\n                    },\n                    {\n                        string: 16,\n                        value: 16\n                    },\n\n                    {\n                        string: 17,\n                        value: 17\n                    },\n                    {\n                        string: 18,\n                        value: 18\n                    },\n                    {\n                        string: 19,\n                        value: 19\n                    },\n                    {\n                        string: 20,\n                        value: 20\n                    },\n                    {\n                        string: 21,\n                        value: 21\n                    },\n                    {\n                        string: 22,\n                        value: 22\n                    },\n                    {\n                        string: 23,\n                        value: 23\n                    },\n                    {\n                        string: 24,\n                        value: 24\n                    },\n                    {\n                        string: 25,\n                        value: 25\n                    },\n                    {\n                        string: 26,\n                        value: 26\n                    },\n                    {\n                        string: 27,\n                        value: 27\n                    },\n                    {\n                        string: 28,\n                        value: 28\n                    },\n                    {\n                        string: 29,\n                        value: 29\n                    },\n                    {\n                        string: 30,\n                        value: 30\n                    },\n                    {\n                        string: 31,\n                        value: 31\n                    }\n                ]\n            };\n        },\n\n        // Change the export URL for export buttons\n        changeExportUrl: function(filter, exportUrlLink, flag) {\n            $(exportUrlLink).each(function() {\n                var oldUrl = this.href;\n                if (flag == \"F\") {\n                    if (oldUrl.search(/filter=(.*)&/) > -1) {\n                        oldUrl = oldUrl.replace(/filter=(.*)&/, \"filter=\" + filter + \"&\");\n                    } else {\n                        oldUrl = oldUrl.replace(/filter=(.*)/, \"filter=\" + filter);\n                    }\n                } else if (flag == \"C\") {\n                    oldUrl = oldUrl.replace(/cohortid=(.*)/, \"cohortid=\" + filter);\n                }\n                $(this)[0].href = oldUrl;\n            });\n        },\n\n        // Function to get the details from the URL\n        // eslint-disable-next-line consistent-return\n        getUrlParameter: function(sParam) {\n            var sPageURL = decodeURIComponent(window.location.search.substring(1)),\n                sURLVariables = sPageURL.split('&'),\n                sParameterName,\n                i;\n\n            for (i = 0; i < sURLVariables.length; i++) {\n                sParameterName = sURLVariables[i].split('=');\n\n                if (sParameterName[0] === sParam) {\n                    return sParameterName[1] === undefined ? true : sParameterName[1];\n                }\n            }\n        },\n\n        generateUrl: function(url, params) {\n            var completeUrl = url + \"?\";\n            var isfirst = true;\n\n            $.each(params, function(idx, param) {\n                if (isfirst) {\n                    isfirst = false;\n                } else {\n                    completeUrl += \"&\";\n                }\n                completeUrl += idx + \"=\" + param;\n            });\n            return completeUrl;\n        },\n\n        // Get URL Params\n        getUrlParams: function(url, paramKey) {\n            var vars = {};\n            url.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n                vars[key] = value;\n            });\n            return vars[paramKey];\n        },\n\n        getEmailModalHeader: function(blockname, emailtype) {\n            var modalHeader = \"\";\n            switch (emailtype) {\n                case 1:\n                    modalHeader = \"Schedule Emails for \";\n                    break;\n                default:\n                    modalHeader = \"Send \";\n            }\n\n            switch (blockname) {\n                case \"activeusers\":\n                    modalHeader += \"Active Users\";\n                    break;\n                case \"activecourses\":\n                    modalHeader += \"Popular Courses\";\n                    break;\n                case \"courseprogress\":\n                    modalHeader += \"Course Progress\";\n                    break;\n                case \"certificates\":\n                    modalHeader += \"Certificates\";\n                    break;\n                case \"courseengage\":\n                    modalHeader += \"Course Engagement\";\n                    break;\n                case \"completion\":\n                    modalHeader += \"Course Completion\";\n                    break;\n            }\n\n            if (modalHeader != \"Send \" && emailtype != 1) {\n                modalHeader += \" Reports\";\n            }\n\n            return modalHeader;\n        }\n    };\n});"],"file":"variables.min.js"}