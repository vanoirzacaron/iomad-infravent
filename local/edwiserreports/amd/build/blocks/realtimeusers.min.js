"use strict";define("local_edwiserreports/blocks/realtimeusers",["jquery","local_edwiserreports/defaultconfig","local_edwiserreports/common","local_edwiserreports/variables","local_edwiserreports/jquery.dataTables","local_edwiserreports/dataTables.bootstrap4"],function(e,t,r,a){var l=null,s=t.getPanel("#liveusersblock"),o=t.getPanel("#liveusersblock","body"),i=e(o+" .loader"),n=e(o+" .table"),c=s+" .table-search-input input";return{init:function a(o){e(s).length&&(r.loader.show("#liveusersblock"),e.ajax({url:t.requestUrl,type:t.requestType,dataType:t.requestDataType,data:{action:"get_liveusers_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang")}}).done(function(t){var s;!0!==t.error||"invalidsecretkey"!==t.exception.errorcode?(setTimeout(function(){a(o)},12e4),s=t.data,l?l.destroy():(i.hide(),n.show()),l=n.DataTable({data:s,dom:'<"edwiserreports-table"<t><"table-pagination"p>>',language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("nousers","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:" ",next:" "}},aaSorting:[[1,"asc"]],columnDefs:[{targets:0,className:"text-left"},{targets:1,className:"text-center"},{targets:2,className:"text-center",orderable:!1}],drawCallback:function(){r.stylePaginationButton(this)},bInfo:!1,lengthChange:!1,initComplete:function(){if(null!=s){var t='<small class="ml-auto my-auto font-weight-bold">LoggedIn Users : '+s.length+"</small>";e(document).find(".rtblock-filter").append(t)}}})):o("liveusersblock",t)}).fail(function(e){}).always(function(){r.loader.hide("#liveusersblock")}),e("body").on("input",c,function(){l.column(0).search(this.value).draw()}))}}});
//# sourceMappingURL=realtimeusers.min.js.map
