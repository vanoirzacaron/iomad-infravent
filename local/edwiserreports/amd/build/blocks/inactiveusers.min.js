"use strict";define("local_edwiserreports/blocks/inactiveusers",["jquery","local_edwiserreports/defaultconfig","local_edwiserreports/variables","local_edwiserreports/common","local_edwiserreports/jquery.dataTables","local_edwiserreports/dataTables.bootstrap4"],function(e,t,a,r){var i={dir:e("html").attr("dir")};return{init:function(l){var o=t.getPanel("#inactiveusersblock"),n=t.getPanel("#inactiveusersblock","body"),s=(t.getPanel("#inactiveusersblock","title"),n+" #inactiveuserstable"),d=n+" .dropdown-menu .dropdown-item",c=n+" button.dropdown-toggle",u=null,p=o+" .dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item",g=o+" .table-search-input input";function b(a){r.loader.show("#inactiveusersblock"),e.ajax({url:t.requestUrl,type:t.requestType,dataType:t.requestDataType,data:{action:"get_inactiveusers_data_ajax",secret:M.local_edwiserreports.secret,lang:e("html").attr("lang"),data:JSON.stringify({filter:a})}}).done(function(e){!0!==e.error||"invalidsecretkey"!==e.exception.errorcode?(u.clear(),u.rows.add(e.data),u.draw()):l("inactiveusersblock",e)}).fail(function(e){}).always(function(){r.loader.hide("#inactiveusersblock")})}i.dir=e("html").attr("dir"),e('#inactiveusersblock .download-links [name="filter"]').val(JSON.stringify(i)),e(o).length&&(u=e(s).DataTable({dom:'<"edwiserreports-table"<t><"table-pagination"p>>',aaSorting:[[2,"desc"]],language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("noinactiveusers","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:" ",next:" "}},columnDefs:[{targets:1,className:"d-none d-sm-none d-md-table-cell d-lg-table-cell "},{targets:2,className:"text-center"}],drawCallback:function(){r.stylePaginationButton(this),r.loader.hide("#inactiveusersblock")},responsive:!0,lengthChange:!1,bInfo:!1}),b(e(d).data("value")),e(d).on("click",function(){var r=e(this).data("value");e(o).find('.download-links input[name="filter"]').val(r),e(c).html(e(this).html()),t.changeExportUrl(r,p,a.filterReplaceFlag),b(e(this).data("value"))}),e("body").on("input",g,function(){u.search(this.value).draw()}))}}});
//# sourceMappingURL=inactiveusers.min.js.map
