"use strict";define("local_edwiserreports/blocks/customreport",["jquery","core/notification","../common","../defaultconfig"],function(t,e,r,o){var a={GET_DATA:function(e){return t.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_customreports_data_ajax",secret:M.local_edwiserreports.secret,lang:t("html").attr("lang"),data:e,filter:JSON.stringify(i)}})}},i={dir:t("html").attr("dir")};return{init:function(o,s){t(document).ready(function(){!function(o,s){var n="#".concat(o," table.customreportdata"),l="#".concat(o,"  .table-search-input input");r.setupBlockEditing(".erp-custom-edit-settings"),r.loader.show(t(n).closest('[id^="customreportsblock"]')),a.GET_DATA(s).done(function(e){if(e.success){var o=JSON.parse(e.data),a=t(n).DataTable({columns:o.columns,dom:'<"edwiserreports-table"<"table-wrapper"t><"table-pagination"p>>',data:o.reportsdata,bInfo:!1,lengthChange:!1,language:{info:M.util.get_string("tableinfo","local_edwiserreports"),infoEmpty:M.util.get_string("infoempty","local_edwiserreports"),emptyTable:M.util.get_string("nodata","local_edwiserreports"),zeroRecords:M.util.get_string("zerorecords","local_edwiserreports"),paginate:{previous:" ",next:" "}},drawCallback:function(){r.stylePaginationButton(this)}});t("body").on("input",l,function(){a.search(this.value).draw()})}var s=t(n).closest('[id^="customreportsblock"]').attr("id");t("#"+s+' .download-links [name="filter"]').val(JSON.stringify(i)),setTimeout(function(){var e=t("html").attr("dir");void 0!==e&&!1!==e&&"rtl"==e&&(t(".edwiserreports-table .page-item.next a:before").css({"border-left":"11px solid transparent","border-bottom":"6px solid transparent","border-top":"6px solid transparent","border-left-color":"#ccc","border-right-width":"0px"}),t(".edwiserreports-table .page-item.previous a:before").css({"border-bottom":"6px solid transparent","border-top":"6px solid transparent","border-right":" 10px solid transparent","border-right-color":"#ccc","border-left-width":"0px"}))},1e3),setTimeout(function(){t(".edwiserreports-table .page-item.next a").empty(),t(".edwiserreports-table .page-item.previous a").empty()},2e3),r.loader.hide(t(n).closest('[id^="customreportsblock"]'))}).fail(e.exception)}(o,s)})}}});
//# sourceMappingURL=customreport.min.js.map
